{
  "entities": {
    "car": {
      "title": "Car",
      "description": "Represents a car available for rent.",
      "type": "object",
      "properties": {
        "marque": { "type": "string", "description": "Brand of the car." },
        "modele": { "type": "string", "description": "Model of the car." },
        "immat": { "type": "string", "description": "License plate." },
        "prixParJour": { "type": "number", "description": "Price per day." },
        "etat": {
          "type": "string",
          "description": "Condition of the car.",
          "enum": ["new", "good", "fair", "poor"]
        },
        "disponible": { "type": "boolean", "description": "Availability status." },
        "photoURL": { "type": "string", "format": "uri", "description": "URL of the car's photo." },
        "createdAt": { "type": "string", "format": "date-time", "description": "Creation timestamp." },
        "modeleAnnee": { "type": "number", "description": "Model year of the car." },
        "kilometrage": { "type": "number", "description": "Current mileage of the car." },
        "couleur": { "type": "string", "description": "Color of the car." },
        "nbrPlaces": { "type": "number", "description": "Number of seats." },
        "puissance": { "type": "number", "description": "Fiscal power of the car." },
        "carburantType": { "type": "string", "enum": ["Diesel", "Essence", "Electrique"], "description": "Type of fuel." }
      },
      "required": ["marque", "modele", "immat", "prixParJour", "etat", "disponible", "modeleAnnee", "kilometrage", "couleur", "nbrPlaces", "puissance", "carburantType"]
    },
    "client": {
      "title": "Client",
      "description": "Represents a client.",
      "type": "object",
      "properties": {
        "nom": { "type": "string" },
        "cin": { "type": "string" },
        "permisNo": { "type": "string" },
        "telephone": { "type": "string" },
        "adresse": { "type": "string" },
        "photoCIN": { "type": "string", "format": "uri" },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["nom", "cin", "telephone", "adresse"]
    },
    "rental": {
      "title": "Rental",
      "description": "Represents a rental contract.",
      "type": "object",
      "properties": {
        "locataire": {
          "type": "object",
          "properties": {
            "cin": { "type": "string" },
            "nomPrenom": { "type": "string" },
            "permisNo": { "type": "string" },
            "telephone": { "type": "string" }
          }
        },
        "vehicule": {
          "type": "object",
          "properties": {
            "immatriculation": { "type": "string" },
            "marque": { "type": "string" },
            "modeleAnnee": { "type": "number" },
            "couleur": { "type": "string" },
            "nbrPlaces": { "type": "number" },
            "puissance": { "type": "number" },
            "carburantType": { "type": "string" },
            "photoURL": { "type": "string", "format": "uri" }
          }
        },
        "livraison": {
          "type": "object",
          "properties": {
            "dateHeure": { "type": "string", "format": "date-time" },
            "kilometrage": { "type": "number" },
            "carburantNiveau": { "type": "number" },
            "roueSecours": { "type": "boolean" },
            "posteRadio": { "type": "boolean" },
            "lavage": { "type": "boolean" },
            "dommages": { "type": "array", "items": { "type": "string" } },
            "dommagesNotes": { "type": "string" }
          }
        },
        "reception": {
          "type": "object",
          "properties": {
            "dateHeure": { "type": "string", "format": "date-time" },
            "kilometrage": { "type": "number" },
            "carburantNiveau": { "type": "number" },
            "dommages": { "type": "array", "items": { "type": "string" } },
            "dommagesNotes": { "type": "string" }
          }
        },
        "location": {
          "type": "object",
          "properties": {
            "dateDebut": { "type": "string", "format": "date-time" },
            "dateFin": { "type": "string", "format": "date-time" },
            "prixParJour": { "type": "number" },
            "nbrJours": { "type": "number" },
            "depot": { "type": "number" },
            "montantAPayer": { "type": "number" }
          }
        },
        "statut": { "type": "string", "enum": ["en_cours", "terminee"] },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["locataire", "vehicule", "livraison", "location", "statut"]
    }
  },
  "auth": {
    "providers": ["anonymous"]
  },
  "firestore": {
    "/cars/{carId}": {
      "schema": { "$ref": "#/entities/car" },
      "description": "Stores car documents."
    },
    "/clients/{clientId}": {
      "schema": { "$ref": "#/entities/client" },
      "description": "Stores client documents."
    },
    "/rentals/{rentalId}": {
        "schema": { "$ref": "#/entities/rental" },
        "description": "Stores rental contract documents."
    }
  }
}
